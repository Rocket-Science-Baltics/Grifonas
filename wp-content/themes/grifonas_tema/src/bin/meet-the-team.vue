<template>
    <div>
        <div v-if="section_options.flares">
            <div
                class="absolute flare_left w-[700px] h-[700px] bg-purple opacity-5 blur-[50px] rounded-[50%] -z-10 top-0 -left-1/2 translate-x-full">
            </div>
            <div
                class="absolute flare_right  w-[700px] h-[700px] bg-purple opacity-[.11] blur-[50px] rounded-[50%] -z-10 top-0 right-[10%] translate-x-full">
            </div>
        </div>
        <div class="container-med mx-auto">
            <div class="flex py-16 items-center justify-center relative">
                <MembersFilter v-model:team_category="data.selected_team_category"
                    :team_category_list="data.team_category_list" />
            </div>
            <div class="container-med lg:min-h-[500px] items-center justify-center flex-wrap flex flex-col lg:flex-row lg:mb-20 gap-x-16 gap-y-12"
                ref="container">
                <template
                    v-if="data.filteredTeamMembers && data.filteredTeamMembers.length > 0 && data.selected_team_category"
                    v-for="(team_member, index) in data.filteredTeamMembers">
                    <Presence :exitBeforeEnter="true">
                        <Motion class="flex-[0_0_29.57%]" :initial="{ opacity: 0, scale: 0.4 }"
                            :animate="{ opacity: 1, scale: 1 }"
                            :exit="{ opacity: 0, scale: 0.4, transition: { delay: 0 } }">
                            <MembersListing :team_member="team_member" :index="index"
                                :selected_category="data.selected_team_category" @select="selectMember" />
                        </Motion>
                    </Presence>
                </template>
                <Presence :exitBeforeEnter="true">
                    <Motion v-if="show_empty_message" :initial="{ opacity: 0, scale: 0.4 }"
                        :animate="{ opacity: 1, scale: 1 }" :exit="{ opacity: 0, scale: 0.4, transition: { delay: 0 } }">
                        <h3 class="text-center text-white uppercase">No Team Members In This Category</h3>
                    </Motion>
                </Presence>
                <Modal v-if="selectedMember" :team_member="selectedMember" :selected_category="data.selected_team_category"
                    :show="modalState.show" @close="closeModal" />
            </div>
        </div>
        <div v-if="section_options.wave">
            <div class="wave-graphic absolute w-[110%] -z-10">
                <svg xmlns="http://www.w3.org/2000/svg" width="2247.484" height="763.345" viewBox="0 0 2247.484 763.345">
                    <g id="wave_3" data-name="wave 3" transform="translate(2247.516 607.787) rotate(176)" opacity="0.197"
                        style="mix-blend-mode: normal;isolation: isolate">
                        <g id="Layer_2" transform="translate(0.485 0.5)">
                            <g id="OBJECTS">
                                <g id="Group_26" data-name="Group 26" style="mix-blend-mode: multiply;isolation: isolate">
                                    <path id="Path_286" data-name="Path 286"
                                        d="M2191.845,507.616c-80.583,18.28-163.264,34.037-247.454,47.158-37.425,5.833-76.1,11.2-115.028,9.52-99.5-4.286-170.23-51.911-215.925-98.254-42.086-42.683-74.4-87.989-96.048-134.647-21.449-46.237-32.955-94.538-74.456-136.892s-123.33-78.592-214.174-74.838c-54.05,2.233-103.443,18.416-139.293,39.651s-59.628,47.245-79.491,73.583c-22.74,30.155-42.853,62.729-89.58,84.063-48.372,22.086-122.073,27.659-180.462,13.648C656.87,310.674,620.387,260.964,579.9,218.173,528.465,163.809,455.2,112.518,352.058,84.642S111.961,57.424,25.533,97.929"
                                        transform="translate(17.746 46.718)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_287" data-name="Path 287"
                                        d="M2193.654,490.989c-79.778,18.179-161.877,33.529-245.417,46-37.129,5.543-75.449,10.566-113.98,8.815a318.968,318.968,0,0,1-89.314-16.78c-53.7-18.372-95.624-48.975-126.8-79.171-43.019-41.7-76.441-86.15-99.343-132.029-22.926-45.609-36-93.364-78.293-135.132-40.818-40.263-118.1-74.81-204.552-73.928q-5.023.051-10.082.263c-53.8,2.264-102.911,18.242-138.984,39.215-36.008,20.949-59.577,46.8-80.972,72.549-26.481,31.871-54.673,64.863-106.336,85.481-50.89,20.309-124.239,25.58-183.551,11.989-80.94-18.547-116.839-66.112-156.79-106.539-50.756-51.359-122.1-99.574-221.53-125.338S107.036,62.174,24.34,101.764"
                                        transform="translate(16.878 49.465)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_288" data-name="Path 288"
                                        d="M2195.463,474.381c-78.975,18.079-160.493,33.021-243.386,44.836-36.832,5.252-74.8,9.935-112.935,8.111a326.3,326.3,0,0,1-88.588-16.484c-53.576-17.93-95.829-47.669-127.71-77.165-43.95-40.716-78.473-84.31-102.63-129.412-24.4-44.982-39.04-92.189-82.122-133.372-41.683-39.753-118.927-73.742-205.062-72.763q-5,.057-10.034.271c-53.545,2.294-102.382,18.067-138.676,38.779-36.167,20.663-59.721,46.329-82.451,71.515-30.328,33.605-66.223,67-123.05,86.9-53.125,18.6-126.366,23.5-186.633,10.33-78.759-17.2-114.136-62.581-153.554-100.643C488.555,156.927,419.123,111.789,323.4,88.137s-221.28-21.2-300.252,17.48"
                                        transform="translate(16.01 52.194)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_289" data-name="Path 289"
                                        d="M2197.271,457.792c-78.174,17.978-159.112,32.513-241.361,43.675-36.538,4.962-74.148,9.3-111.894,7.407a334.3,334.3,0,0,1-87.864-16.187c-53.452-17.488-96.034-46.363-128.621-75.16-44.879-39.733-80.3-82.5-105.909-126.794-25.665-44.386-42.072-91.014-85.941-131.612-42.546-39.243-119.749-72.674-205.57-71.6q-4.979.062-9.985.28c-53.293,2.324-101.853,17.893-138.369,38.343-36.325,20.377-60.027,45.838-83.926,70.481-34.28,35.345-77.534,69.162-139.722,88.316-55.126,16.978-128.453,21.4-189.707,8.671-76.526-15.907-111.441-59.051-150.326-94.747-49.4-45.35-116.927-87.411-208.955-108.951S97.214,71.73,21.955,109.49"
                                        transform="translate(15.141 54.904)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_290" data-name="Path 290"
                                        d="M2199.08,442.662c-77.375,17.878-157.737,32.006-239.342,42.514-36.243,4.671-73.5,8.672-110.855,6.7a343.057,343.057,0,0,1-87.142-15.89c-53.328-17.046-96.239-45.057-129.53-73.154-45.8-38.749-82.268-80.675-109.18-124.177-27.077-43.77-45.1-89.84-89.75-129.852C1389.874,110.072,1312.712,77.2,1227.2,78.371q-4.958.068-9.937.288c-53.043,2.355-101.327,17.719-138.064,37.907-36.483,20.092-60.463,45.325-85.4,69.447-38.332,37.081-88.639,71.374-156.352,89.733-56.939,15.437-130.5,19.3-192.775,7.013-74.245-14.654-108.752-55.52-147.107-88.852-48.73-42.346-114.349-81.33-202.692-100.758S92.317,77.975,20.762,114.821"
                                        transform="translate(14.273 56.155)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_291" data-name="Path 291"
                                        d="M2200.889,432.112c-76.58,17.777-156.365,31.5-237.33,41.353-35.95,4.381-72.855,8.041-109.819,6a352.659,352.659,0,0,1-86.422-15.593c-53.2-16.6-96.444-43.752-130.437-71.148-46.729-37.766-84.241-78.847-112.443-121.559-28.493-43.154-48.112-88.665-93.551-128.092C1386.621,104.848,1309.5,72.533,1224.3,73.8q-4.936.073-9.888.3c-52.794,2.385-100.8,17.544-137.76,37.471-36.641,19.806-61.006,44.79-86.866,68.413-42.481,38.8-99.573,73.651-172.942,91.151-58.608,13.979-132.515,17.192-195.835,5.354-71.919-13.445-106.071-51.989-143.9-82.956-48.058-39.342-111.779-75.249-196.446-92.565C196.016,83.639,87.43,88.8,19.569,124.734"
                                        transform="translate(13.405 52.825)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_292" data-name="Path 292"
                                        d="M2202.7,421.564c-75.786,17.677-155,30.99-235.323,40.191-35.657,4.091-72.211,7.41-108.786,5.294a363.242,363.242,0,0,1-85.7-15.3c-53.081-16.162-96.648-42.446-131.343-69.142-47.651-36.782-86.217-77.018-115.7-118.942-29.913-42.538-51.122-87.49-97.342-126.332-45.123-37.713-122.2-69.469-207.093-68.1q-4.914.079-9.84.3c-52.545,2.415-100.279,17.37-137.457,37.035-36.8,19.52-61.637,44.235-88.331,67.379-46.724,40.509-110.367,76-189.492,92.568-60.173,12.6-134.492,15.065-198.889,3.7C527.845,257.933,494,221.756,456.7,193.153c-47.388-36.337-109.215-69.168-190.216-84.372C185.508,93.566,82.553,99.63,18.377,134.647"
                                        transform="translate(12.537 49.495)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_293" data-name="Path 293"
                                        d="M2204.507,411.015c-75,17.576-153.633,30.483-233.321,39.03-35.366,3.8-71.568,6.779-107.756,4.59a374.941,374.941,0,0,1-84.989-15c-52.959-15.72-96.853-41.14-132.246-67.136-48.571-35.8-88.2-75.189-118.946-116.324-31.337-41.922-54.124-86.316-101.125-124.573-45.978-37.2-123.02-68.4-207.6-66.94q-4.893.084-9.792.313a334.975,334.975,0,0,0-137.155,36.6c-36.956,19.234-62.341,43.66-89.793,66.345-51.057,42.19-121.051,78.438-206,93.986-61.664,11.286-136.433,12.922-201.936,2.037-67.152-11.159-100.73-44.927-137.5-71.165-46.72-33.333-106.658-63.087-184-76.178-77.32-13.106-174.659-6.14-235.16,27.962"
                                        transform="translate(11.669 46.164)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_294" data-name="Path 294"
                                        d="M2206.315,400.467c-74.206,17.476-152.273,29.975-231.326,37.869-35.075,3.51-70.928,6.148-106.729,3.886a387.921,387.921,0,0,1-84.275-14.7c-52.837-15.279-97.058-39.835-133.148-65.13-49.489-34.815-90.179-73.359-122.186-113.707-32.766-41.3-57.118-85.141-104.9-122.813-46.831-36.693-123.834-67.333-208.105-65.775q-4.872.09-9.745.321a340.158,340.158,0,0,0-136.855,36.163c-37.112,18.949-63.1,43.067-91.251,65.31-55.479,43.84-131.647,80.957-222.47,95.4-63.106,10.038-138.341,10.758-204.976.378-64.717-10.081-98.069-41.4-134.316-65.269a435.12,435.12,0,0,0-177.8-67.985c-73.669-11-165.406-3.129-222.241,30.059"
                                        transform="translate(10.801 42.833)" fill="none" stroke="#6076ff"
                                        stroke-width="1" />
                                    <path id="Path_295" data-name="Path 295"
                                        d="M2208.124,389.919c-73.418,17.375-150.917,29.467-229.335,36.708-34.785,3.22-70.29,5.517-105.7,3.181a402.4,402.4,0,0,1-83.564-14.406c-52.715-14.837-97.262-38.529-134.048-63.125-50.4-33.831-92.165-71.529-125.419-111.09-34.2-40.686-60.106-83.967-108.663-121.053-47.682-36.183-124.646-66.264-208.611-64.61q-4.85.1-9.7.329a345.551,345.551,0,0,0-136.556,35.727c-37.269,18.663-63.913,42.457-92.706,64.276-59.986,45.458-142.18,83.561-238.9,96.82C670.4,261.524,594.7,261.248,526.913,251.4c-62.255-9.045-95.416-37.865-131.139-59.374C350.384,164.7,294.21,141.1,224.152,132.233c-70.027-8.885-156.177-.118-209.354,32.155"
                                        transform="translate(9.933 39.502)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_296" data-name="Path 296"
                                        d="M2209.933,379.371c-72.634,17.275-149.564,28.959-227.351,35.547-34.5,2.929-69.653,4.886-104.684,2.477a418.648,418.648,0,0,1-82.855-14.109c-52.594-14.395-97.466-37.223-134.946-61.119-51.318-32.848-94.154-69.7-128.644-108.472-35.636-40.066-63.086-82.792-112.418-119.293-48.531-35.673-125.456-65.2-209.116-63.446q-4.829.1-9.649.337a351.167,351.167,0,0,0-136.258,35.292c-37.425,18.377-64.762,41.83-94.158,63.242-64.577,47.038-152.667,86.249-255.289,98.238-65.923,7.7-142.061,6.352-211.035-2.939-59.768-8.051-92.769-34.334-127.97-53.478-44.727-24.32-99.027-44.844-165.455-51.6-66.394-6.775-146.97,2.893-196.5,34.251"
                                        transform="translate(9.065 36.17)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_297" data-name="Path 297"
                                        d="M2211.741,368.823C2139.89,386,2063.526,397.275,1986.37,403.21c-34.207,2.639-69.018,4.255-103.665,1.773a436.966,436.966,0,0,1-82.147-13.812c-52.473-13.953-97.669-35.917-135.843-59.113-52.23-31.864-96.147-67.862-131.862-105.855-37.079-39.444-66.06-81.617-116.165-117.533-49.378-35.163-126.265-64.128-209.62-62.281q-4.808.106-9.6.345A357.022,357.022,0,0,0,1061.5,81.59c-37.582,18.091-65.643,41.188-95.607,62.208-69.247,48.579-163.123,89.017-271.64,99.655-67.324,6.6-143.877,4.1-214.055-4.6-57.261-7.1-90.129-30.8-124.81-47.582-44.066-21.316-96.5-38.763-159.3-43.405-62.77-4.665-137.786,5.9-183.676,36.348"
                                        transform="translate(8.196 32.839)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_298" data-name="Path 298"
                                        d="M2213.55,358.276c-71.07,17.074-146.87,27.944-223.4,33.225-33.919,2.348-68.385,3.624-102.65,1.069a457.787,457.787,0,0,1-81.442-13.515c-52.353-13.511-97.873-34.612-136.738-57.107-53.14-30.881-98.143-66.026-135.072-103.237-38.526-38.82-69.026-80.443-119.9-115.773-50.223-34.653-127.073-63.06-210.124-61.116q-4.786.112-9.555.354C1143.6,44.772,1097.5,58.5,1059,76.595c-37.737,17.806-66.549,40.531-97.052,61.174-74,50.077-173.561,91.862-287.952,101.073-68.733,5.535-145.666,1.807-217.068-6.257-54.74-6.182-87.5-27.272-121.657-41.686-43.406-18.311-93.972-32.682-153.168-35.212C122.95,153.131,53.48,164.6,11.22,194.131"
                                        transform="translate(7.328 29.506)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_299" data-name="Path 299"
                                        d="M2215.359,347.73c-70.292,16.973-145.529,27.436-221.431,32.064-33.633,2.058-67.754,2.993-101.637.364a481.6,481.6,0,0,1-80.739-13.218c-52.233-13.069-98.076-33.306-137.631-55.1-54.048-29.9-100.142-64.188-138.275-100.62-39.977-38.194-71.986-79.268-123.633-114.013-51.067-34.143-127.879-61.992-210.627-59.951q-4.765.117-9.508.362c-50.826,2.627-96.661,16.149-135.371,33.984-37.893,17.52-67.476,39.861-98.495,60.14-78.819,51.53-183.99,94.778-304.226,102.49-70.156,4.5-147.43-.533-220.075-7.915-52.208-5.306-84.869-23.741-118.512-35.791-42.749-15.307-91.454-26.6-147.048-27.019-55.55-.445-119.487,11.926-158.126,40.541"
                                        transform="translate(6.46 26.174)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_300" data-name="Path 300"
                                        d="M2217.168,337.183c-69.515,16.873-144.192,26.928-219.469,30.9-33.346,1.768-67.124,2.362-100.626-.34a509.11,509.11,0,0,1-80.037-12.922c-52.114-12.627-98.279-32-138.522-53.1-54.953-28.914-102.144-62.347-141.471-98-41.433-37.566-74.938-78.093-127.354-112.253-51.908-33.633-128.683-60.923-211.13-58.787q-4.744.123-9.461.37c-50.583,2.657-96.15,15.974-135.077,33.548-38.049,17.234-68.418,39.178-99.934,59.106-83.716,52.936-194.419,97.76-320.461,103.908-71.6,3.492-149.172-2.929-223.075-9.574-49.671-4.466-82.249-20.21-115.376-29.9-42.093-12.3-88.943-20.52-140.943-18.826-51.953,1.665-110.37,14.937-145.4,42.637"
                                        transform="translate(5.592 22.841)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_301" data-name="Path 301"
                                        d="M2218.976,326.637c-68.741,16.773-142.858,26.421-217.512,29.742-33.062,1.477-66.5,1.731-99.619-1.044a541.183,541.183,0,0,1-79.337-12.625c-52-12.185-98.483-30.695-139.412-51.09-55.857-27.93-104.149-60.5-144.659-95.385-42.894-36.934-77.884-76.919-131.066-110.493-52.748-33.123-129.486-59.855-211.632-57.622q-4.723.128-9.414.378c-50.341,2.688-95.641,15.8-134.785,33.112-38.2,16.948-69.373,38.483-101.37,58.072-88.682,54.294-204.854,100.8-336.659,105.325-73.063,2.507-150.9-5.391-226.068-11.233-47.134-3.663-79.636-16.679-112.247-24-41.439-9.3-86.437-14.438-134.853-10.632-48.364,3.775-101.277,17.948-132.7,44.734"
                                        transform="translate(4.724 19.508)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_302" data-name="Path 302"
                                        d="M2220.786,316.091c-67.969,16.672-141.528,25.913-215.561,28.581-32.777,1.187-65.87,1.1-98.615-1.748a579.058,579.058,0,0,1-78.64-12.328c-51.876-11.743-98.685-29.389-140.3-49.084-56.759-26.947-106.156-58.656-147.841-92.767-44.358-36.3-80.823-75.744-134.77-108.733-53.586-32.613-130.287-58.787-212.134-56.457q-4.7.133-9.367.387c-50.1,2.718-95.133,15.626-134.494,32.676-38.359,16.663-70.335,37.776-102.8,57.038-93.716,55.6-215.3,103.9-352.819,106.743-74.55,1.54-152.612-7.931-229.056-12.892-44.6-2.895-77.029-13.148-109.126-18.1-40.787-6.294-83.939-8.357-128.778-2.439-44.785,5.885-92.2,20.959-120.034,46.83"
                                        transform="translate(3.856 16.174)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_303" data-name="Path 303"
                                        d="M2222.594,305.546c-67.2,16.572-140.2,25.405-213.614,27.42-32.493.9-65.245.469-97.612-2.453a624.415,624.415,0,0,1-77.944-12.031A718.624,718.624,0,0,1,1692.237,271.4c-57.658-25.963-108.164-56.806-151.015-90.15-45.826-35.659-83.755-74.569-138.466-106.973-54.422-32.1-131.087-57.719-212.635-55.292q-4.681.139-9.321.395c-49.859,2.748-94.627,15.451-134.2,32.24-38.513,16.377-71.3,37.057-104.233,56-98.814,56.857-225.855,111.22-368.942,108.16-76.009-1.626-154.321-10.563-232.036-14.55-42.087-2.159-74.429-9.617-106.013-12.208-40.136-3.29-81.446-2.276-122.718,5.754-41.214,8-83.155,23.97-107.4,48.927"
                                        transform="translate(2.988 12.84)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_304" data-name="Path 304"
                                        d="M2224.4,295c-66.431,16.471-138.879,24.9-211.674,26.259a864.266,864.266,0,0,1-96.614-3.157,679.642,679.642,0,0,1-77.25-11.734A764.082,764.082,0,0,1,1696.795,261.3c-58.556-24.979-110.174-54.952-154.183-87.533-47.3-35.016-86.681-73.395-142.153-105.214C1345.2,36.958,1268.573,11.9,1187.323,14.423q-4.661.144-9.275.4c-49.62,2.778-94.123,15.277-133.915,31.8-38.668,16.091-72.276,36.328-105.659,54.97C834.5,159.661,702.074,215.086,553.446,211.178c-77.507-2.038-156.035-13.3-235.011-16.209-39.592-1.456-71.835-6.086-102.908-6.312-39.487-.285-78.959,3.8-116.673,13.947C61.2,212.709,24.729,229.585,4.063,253.627"
                                        transform="translate(2.119 9.506)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_305" data-name="Path 305"
                                        d="M2226.212,284.457c-65.665,16.371-137.559,24.39-209.738,25.1a899.962,899.962,0,0,1-95.617-3.861,748.325,748.325,0,0,1-76.558-11.437,814.062,814.062,0,0,1-142.954-43.066c-59.452-24-112.185-53.093-157.343-84.915-48.772-34.368-89.6-72.22-145.833-103.454C1342.08,31.738,1265.487,7.239,1184.533,9.858q-4.64.15-9.228.411c-49.381,2.809-93.62,15.1-133.627,31.368-38.822,15.805-73.249,35.589-107.083,53.936C825.4,154.785,687.883,209.054,533.518,206.569c-79.16-1.274-157.768-16.177-237.979-17.868-37.127-.782-69.247-2.555-99.81-.417-38.84,2.719-76.479,9.886-110.642,22.141-34.1,12.216-65.12,29.992-82.216,53.119"
                                        transform="translate(1.251 6.171)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_306" data-name="Path 306"
                                        d="M2228.021,273.913c-64.9,16.27-136.243,23.882-207.808,23.936a940.382,940.382,0,0,1-94.623-4.566c-25.882-2.6-51.271-6.358-75.868-11.141a869.071,869.071,0,0,1-143.836-41.06c-60.346-23.012-114.26-51.2-160.5-82.3-50.318-33.686-92.512-71.045-149.5-101.694-56.919-30.573-133.478-54.514-214.135-51.8q-4.619.155-9.182.42c-49.143,2.839-93.118,14.928-133.341,30.932-38.976,15.52-74.221,34.839-108.5,52.9C816.262,149.855,673.51,206.3,513.635,201.96c-80.744-2.191-159.575-20.859-240.941-19.526-34.688.568-66.665.976-96.72,5.479-38.194,5.723-74,15.967-104.626,30.334-30.553,14.326-56.134,33-69.67,55.216"
                                        transform="translate(0.383 2.836)" fill="none" stroke="#6076ff" stroke-width="1" />
                                    <path id="Path_307" data-name="Path 307"
                                        d="M2229.829,263.37c-115.943,29.23-253.631,29.165-374.694,6.662S1629.085,203.9,1546.777,151.3c-51.727-33.058-95.418-69.871-153.166-99.934S1259.339-2.083,1178.976.73C1078.4,4.249,999.7,46.215,926.863,83.522,807.077,144.872,659.132,203.577,493.8,197.352c-82.351-3.1-161.374-22.416-243.9-21.185C135.483,177.874,28.355,223.924.485,283.381"
                                        transform="translate(-0.485 -0.5)" fill="none" stroke="#6076ff" stroke-width="1" />
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>

            </div>
        </div>
    </div>
</template>

<script setup>
import { Motion, Presence } from '@motionone/vue';
import { computed, onMounted, reactive, watch, ref } from "vue";
import MembersFilter from "./meet-the-team/members-filter.vue";
import MembersListing from "./meet-the-team/members-listing.vue";
import Modal from './meet-the-team/member-modal.vue';

const props = defineProps(['team_members', 'team_category', 'team_category_list', 'rest_url', 'section_options']);

const data = reactive({
    team_members: props.team_members || [],
    allTeamMembers: [],
    filteredTeamMembers: [],
    isTeamMemberFetched: false,
    'selected_team_category': props.team_category ? props.team_category : 'all',
    'team_category_list': props.team_category_list,
    section_options: props.section_options,
});

const fetchTeamMembers = async () => {
    data.isTeamMemberFetched = false;
    const response = await fetch(props.rest_url + `chisquare/v1/team`);
    const xhrdata = await response.json();
    data.team_members = xhrdata.team_members;
    data.allTeamMembers = [...data.team_members];
    filterMembers();
}

const filterMembers = () => {
    data.isTeamMemberFetched = false;
    data.filteredTeamMembers = data.allTeamMembers.filter(team_member => {
        return data.selected_team_category === 'all' ||
            (team_member.team_categories && Array.isArray(team_member.team_categories) &&
                team_member.team_categories.map(o => o.slug).includes(data.selected_team_category));
    });
    data.isTeamMemberFetched = true;
}

const show_empty_message = computed(() => {
    return data.isTeamMemberFetched && data.selected_team_category !== -1 && data.filteredTeamMembers && data.filteredTeamMembers.length === 0;
})

let selectedMember = ref(null);

const selectMember = (member) => {
    selectedMember.value = member;
    openModal();
}

const modalState = reactive({
    show: false,
});

const openModal = () => {
    modalState.show = true;
}

const closeModal = () => {
    modalState.show = false;
    modalState.team_member = null;
}

onMounted(fetchTeamMembers);

watch(() => data.selected_team_category, filterMembers);

</script>

<style scoped></style>